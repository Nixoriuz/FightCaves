<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSRS Fire Cape Noob Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #121212;
            color: #f0f0f0;
        }
        .sidebar {
            background-color: #212121;
        }
        .main-content {
            background-color: #181818;
        }
        .card {
            background-color: #2c2c2c;
            border: 1px solid #444;
        }
        .nav-btn {
            background-color: #2d8a4e; /* Green */
            transition: background-color 0.3s ease, transform 0.2s ease;
        }
        .nav-btn:hover {
            background-color: #36a85f;
            transform: scale(1.02);
        }
        .nav-btn.active {
            background-color: #2563eb; /* Blue */
            font-weight: bold;
        }
        .monster-img {
            max-width: 80px;
            height: auto;
        }
        .potion-img {
            width: 40px;
            height: 40px;
            object-fit: contain;
        }
        .content-view {
            display: none;
        }
        .content-view.active {
            display: block;
        }
        .arrow-btn {
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        .arrow-btn:hover {
            transform: scale(1.1);
        }
        .arrow-btn.disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }
        #wave-navigation {
            display: none; /* Initially hidden */
        }
        #wave-navigation.visible {
            display: flex; /* Shown by JS */
        }
        .spawn-marker {
            position: absolute;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: rgba(255, 0, 0, 0.5);
            border: 2px solid rgba(255, 255, 255, 0.5);
            transform: translate(-50%, -50%);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            font-size: 12px;
        }
        .spawn-marker.highlight-spawn {
            background-color: rgba(255, 255, 0, 0.8);
            border-color: #fff;
            box-shadow: 0 0 15px 5px rgba(255, 255, 0, 0.7);
            transform: translate(-50%, -50%) scale(1.2);
        }
        .map-container-grid {
            display: grid;
            grid-template-columns: 240px auto 240px;
            gap: 0.5rem;
            align-items: center;
            justify-content: center;
        }
        .monster-column {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            height: 100%;
        }
        .monster-column .card {
            width: 100%;
            flex-grow: 0;
        }
    </style>
</head>
<body class="bg-gray-900">
    <div class="relative min-h-screen md:flex">
        <div class="md:hidden flex justify-between items-center bg-gray-800 p-2 text-white">
            <h1 class="text-xl font-bold">Noobs Firecape</h1>
            <button id="menu-toggle" class="p-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
        </div>

        <aside id="sidebar" class="sidebar w-64 p-4 flex-col fixed md:relative h-full z-20 transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out">
            <h1 class="text-2xl font-bold text-white mb-8 hidden md:block">Noobs Firecape</h1>
            <nav class="flex flex-col space-y-2">
                <button onclick="showContent('setup-view', this)" class="nav-btn text-white py-2 px-4 rounded-lg text-left active">Recommended Setup</button>
                <button onclick="showContent('waves-view', this)" class="nav-btn text-white py-2 px-4 rounded-lg text-left">Waves</button>
                <div id="wave-navigation" class="justify-between items-center mt-2 px-4">
                    <span id="sidebar-prev-btn" class="arrow-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7 M10 19l-7-7 7-7" />
                        </svg>
                    </span>
                    <span id="sidebar-next-btn" class="arrow-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7 M14 5l7 7-7 7" />
                        </svg>
                    </span>
                </div>
            </nav>
            <div id="scale-slider-container" class="mt-auto px-2">
                <label for="scale-slider" class="block text-sm font-medium text-white">Content Scale: <span id="scale-value">100%</span></label>
                <input id="scale-slider" type="range" min="50" max="150" value="100" class="w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer">
            </div>
        </aside>

        <main class="main-content flex-1 p-4 md:p-8 overflow-y-auto">
            <h2 id="main-content-title" class="text-2xl md:text-3xl font-bold mb-6 border-b-2 border-blue-500 pb-2">Recommended Setup</h2>
            
            <div id="setup-view" class="content-view active">
                 <div class="card p-6 rounded-lg">
                    <div class="flex flex-wrap lg:flex-nowrap gap-8 items-center">
                        <div class="flex-grow lg:flex-shrink-0 w-full lg:w-auto">
                             <h3 class="text-xl md:text-2xl font-bold mb-4 text-center">Your Gear (Ironman Setup)</h3>
                            <img src="https://i.postimg.cc/sgJpRygB/unnamed.jpg" alt="Ironman Gear Setup" class="mx-auto rounded-lg border-2 border-gray-600 w-full max-w-md">
                            <p class="text-center mt-4 max-w-md mx-auto">This is a solid setup. The Rune Crossbow with broad bolts will be effective. The Dragonhide body and chaps provide good ranged defense, and the Helm of Neitiznot is a great choice for its balanced stats.</p>
                        </div>
                        <div class="flex-grow lg:flex-shrink-0 w-full lg:w-auto">
                            <h3 class="text-xl md:text-2xl font-bold mb-4 text-center">Inventory & Potions</h3>
                             <p class="mb-4 text-center">Here's what you should bring. As an Ironman, resource management is key.</p>
                            <div class="space-y-3 mx-auto">
                                <div class="flex items-center gap-4 p-2 rounded bg-gray-700/50">
                                    <img src="https://oldschool.runescape.wiki/images/thumb/Prayer_potion%284%29.png/120px-Prayer_potion%284%29.png" alt="Prayer Potion" class="potion-img">
                                    <p class="text-sm"><b>Prayer Potions (10-12):</b> Your most important supply. Don't be afraid to use them.</p>
                                </div>
                                <div class="flex items-center gap-4 p-2 rounded bg-gray-700/50">
                                    <img src="https://oldschool.runescape.wiki/images/thumb/Super_restore%284%29.png/120px-Super_restore%284%29.png" alt="Super Restore Potion" class="potion-img">
                                    <p class="text-sm"><b>Super Restores (2-3):</b> Restores prayer and combat stats.</p>
                                </div>
                                <div class="flex items-center gap-4 p-2 rounded bg-gray-700/50">
                                    <img src="https://oldschool.runescape.wiki/images/thumb/Pineapple_pizza.png/120px-Pineapple_pizza.png" alt="Pineapple Pizza" class="potion-img">
                                    <p class="text-sm"><b>Pineapple Pizzas:</b> Great healing food, as each pizza provides two bites.</p>
                                </div>
                                <div class="flex items-center gap-4 p-2 rounded bg-gray-700/50">
                                    <img src="https://oldschool.runescape.wiki/images/thumb/Cooked_karambwan.png/120px-Cooked_karambwan.png" alt="Cooked Karambwan" class="potion-img">
                                    <p class="text-sm"><b>Karambwans (Optional):</b> For combo-eating to heal quickly in an emergency.</p>
                                </div>
                                 <div class="flex items-center gap-4 p-2 rounded bg-gray-700/50">
                                    <img src="https://oldschool.runescape.wiki/images/thumb/Cooked_dashing_kebbit.png/120px-Cooked_dashing_kebbit.png" alt="Dashing Kebbit" class="potion-img">
                                    <p class="text-sm"><b>Dashing Kebbits:</b> Heals and restores run energy. A good choice to save stamina.</p>
                                </div>
                                <div class="flex items-center gap-4 p-2 rounded bg-gray-700/50">
                                    <img src="https://oldschool.runescape.wiki/images/thumb/Black_chinchompa_(item).png/120px-Black_chinchompa_(item).png" alt="Black Chinchompas" class="potion-img">
                                    <p class="text-sm"><b>Black Chins (Healers):</b> Use their AoE attack to quickly tag all of Jad's healers.</p>
                                </div>
                                 <div class="flex items-center gap-4 p-2 rounded bg-gray-700/50">
                                    <img src="https://oldschool.runescape.wiki/images/thumb/Rock_cake.png/120px-Rock_cake.png" alt="Rock cake" class="potion-img">
                                    <p class="text-sm"><b>Rock cake/locator orb:</b> To lower your HP before entering to conserve food.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="waves-view" class="content-view">
                <div class="card p-6 rounded-lg relative">
                    <h3 id="map-title" class="text-xl md:text-2xl font-bold mb-4 text-center">Map & Spawns</h3>
                    <div id="map-and-monsters-wrapper">
                        <div class="map-container-grid">
                            <div id="monsters-left" class="monster-column"></div>
                            <div class="relative w-full max-w-2xl mx-auto">
                                <img src="https://i.postimg.cc/Dyp8FDPf/fightcave.png" alt="Fight Caves Map" class="w-full h-auto rounded-lg">
                                <div id="spawn-C"  class="spawn-marker" style="top: 45%; left: 50%;">C</div>
                                <div id="spawn-SE" class="spawn-marker" style="top: 80%; left: 70%;">SE</div>
                                <div id="spawn-SW" class="spawn-marker" style="top: 75%; left: 30%;">SW</div>
                                <div id="spawn-NE" class="spawn-marker" style="top: 30%; left: 75%;">NE</div>
                                <div id="spawn-NW" class="spawn-marker" style="top: 25%; left: 35%;">NW</div>
                            </div>
                            <div id="monsters-right" class="monster-column"></div>
                        </div>
                    </div>
                    <div id="jad-info-container" class="hidden"></div>
                    <div class="mt-4 max-w-3xl mx-auto">
                        <p class="mb-2">This map shows the possible monster spawn points. For each wave, the highlighted markers indicate where the monsters will appear. Use this to position yourself safely, especially near the <strong class="text-yellow-400">Italy Rock (NE)</strong>.</p>
                        <p><strong class="text-red-500">Jad Spawn Tip:</strong> Jad will always spawn where the Level 45 Tz-Kek appeared on Wave 3 (The NE spawn point).</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        let currentWave = 1;
        const totalWaves = 63;
    
        // DOM Element references
        const contentTitle = document.getElementById('main-content-title');
        const waveNavigation = document.getElementById('wave-navigation');
        const sidebarPrevBtn = document.getElementById('sidebar-prev-btn');
        const sidebarNextBtn = document.getElementById('sidebar-next-btn');
        const menuToggle = document.getElementById('menu-toggle');
        const sidebar = document.getElementById('sidebar');
        const scaleSlider = document.getElementById('scale-slider');
        const scaleValue = document.getElementById('scale-value');
        const wavesView = document.getElementById('waves-view');
        const scaleSliderContainer = document.getElementById('scale-slider-container');
    
        // Event Listeners
        if (menuToggle) {
            menuToggle.addEventListener('click', () => {
                sidebar.classList.toggle('-translate-x-full');
            });
        }
        if (sidebarPrevBtn) {
            sidebarPrevBtn.addEventListener('click', () => {
                if (currentWave > 1) showWaveDetails(currentWave - 1);
            });
        }
        if (sidebarNextBtn) {
            sidebarNextBtn.addEventListener('click', () => {
                if (currentWave < totalWaves) showWaveDetails(currentWave + 1);
            });
        }
        if (scaleSlider) {
            scaleSlider.addEventListener('input', (event) => {
                const scale = event.target.value;
                applyScale(scale);
                localStorage.setItem('savedScale_waves-view', scale);
            });
        }
    
        // Data
        const monsters = {
            'tz-kih': { name: 'Tz-Kih', level: 22, img: 'https://oldschool.runescape.wiki/images/Tz-Kih.png', info: 'Attacks with melee and drains prayer. Keep your distance! Too small to be safespotted by rocks.' },
            'tz-kek': { name: 'Tz-Kek', level: 45, img: 'https://oldschool.runescape.wiki/images/Tz-Kek_(level_45).png', info: 'Melee attacker. Can be trapped behind rocks. Its spawn location on Wave 3 determines Jad\'s spawn.' },
            'tok-xil': { name: 'Tok-Xil', level: 90, img: 'https://oldschool.runescape.wiki/images/Tok-Xil_(1).png', info: 'Ranged attacker. Protect from Missiles is effective. This can attack over rocks, so it\'s a high priority target.' },
            'yt-mejkot': { name: 'Yt-MejKot', level: 180, img: 'https://oldschool.runescape.wiki/images/Yt-MejKot_(1).png', info: 'Strong melee attacker. This is the main monster to trap behind the Italy Rock or Long Rock.' },
            'ket-zek': { name: 'Ket-Zek', level: 360, img: 'https://oldschool.runescape.wiki/images/Ket-Zek_(1).png', info: 'Powerful magic attacker. Always Protect from Magic. Will attack over rocks, so kill this after trapping any Meleers.' },
            'jad': { name: 'TzTok-Jad', level: 702, img: 'https://oldschool.runescape.wiki/images/TzTok-Jad.png', info: 'The big boss. Use Italy Rock to trap the healers. Watch its leg movements to switch prayers!' }
        };
        const waveSpawns = [
            ['tz-kih'], ['tz-kih', 'tz-kih'], ['tz-kek'], ['tz-kek', 'tz-kih'], ['tz-kek', 'tz-kih', 'tz-kih'], ['tz-kek', 'tz-kek'],
            ['tok-xil'], ['tok-xil', 'tz-kih'], ['tok-xil', 'tz-kih', 'tz-kih'], ['tok-xil', 'tz-kek'], ['tok-xil', 'tz-kek', 'tz-kih'], ['tok-xil', 'tz-kek', 'tz-kih', 'tz-kih'], ['tok-xil', 'tz-kek', 'tz-kek'], ['tok-xil', 'tok-xil'],
            ['yt-mejkot'], ['yt-mejkot', 'tz-kih'], ['yt-mejkot', 'tz-kih', 'tz-kih'], ['yt-mejkot', 'tz-kek'], ['yt-mejkot', 'tz-kek', 'tz-kih'], ['yt-mejkot', 'tz-kek', 'tz-kih', 'tz-kih'], ['yt-mejkot', 'tz-kek', 'tz-kek'], ['yt-mejkot', 'tok-xil'],
            ['yt-mejkot', 'tok-xil', 'tz-kih'], ['yt-mejkot', 'tok-xil', 'tz-kih', 'tz-kih'], ['yt-mejkot', 'tok-xil', 'tz-kek'], ['yt-mejkot', 'tok-xil', 'tz-kek', 'tz-kih'], ['yt-mejkot', 'tok-xil', 'tz-kek', 'tz-kih', 'tz-kih'], ['yt-mejkot', 'tok-xil', 'tz-kek', 'tz-kek'], ['yt-mejkot', 'tok-xil', 'tok-xil'], ['yt-mejkot', 'yt-mejkot'],
            ['ket-zek'], ['ket-zek', 'tz-kih'], ['ket-zek', 'tz-kih', 'tz-kih'], ['ket-zek', 'tz-kek'], ['ket-zek', 'tz-kek', 'tz-kih'], ['ket-zek', 'tz-kek', 'tz-kih', 'tz-kih'], ['ket-zek', 'tz-kek', 'tz-kek'], ['ket-zek', 'tok-xil'],
            ['ket-zek', 'tok-xil', 'tz-kih'], ['ket-zek', 'tok-xil', 'tz-kih', 'tz-kih'], ['ket-zek', 'tok-xil', 'tz-kek'], ['ket-zek', 'tok-xil', 'tz-kek', 'tz-kih'], ['ket-zek', 'tok-xil', 'tz-kek', 'tz-kih', 'tz-kih'], ['ket-zek', 'tok-xil', 'tz-kek', 'tz-kek'], ['ket-zek', 'tok-xil', 'tok-xil'], ['ket-zek', 'yt-mejkot'],
            ['ket-zek', 'yt-mejkot', 'tz-kih'], ['ket-zek', 'yt-mejkot', 'tz-kih', 'tz-kih'], ['ket-zek', 'yt-mejkot', 'tz-kek'], ['ket-zek', 'yt-mejkot', 'tz-kek', 'tz-kih'], ['ket-zek', 'yt-mejkot', 'tz-kek', 'tz-kih', 'tz-kih'], ['ket-zek', 'yt-mejkot', 'tz-kek', 'tz-kek'], ['ket-zek', 'yt-mejkot', 'tok-xil'],
            ['ket-zek', 'yt-mejkot', 'tok-xil', 'tz-kih'], ['ket-zek', 'yt-mejkot', 'tok-xil', 'tz-kih', 'tz-kih'], ['ket-zek', 'yt-mejkot', 'tok-xil', 'tz-kek'], ['ket-zek', 'yt-mejkot', 'tok-xil', 'tz-kek', 'tz-kih'], ['ket-zek', 'yt-mejkot', 'tok-xil', 'tz-kek', 'tz-kih', 'tz-kih'], ['ket-zek', 'yt-mejkot', 'tok-xil', 'tz-kek', 'tz-kek'],
            ['ket-zek', 'yt-mejkot', 'tok-xil', 'tok-xil'], ['ket-zek', 'yt-mejkot', 'yt-mejkot'], ['ket-zek', 'ket-zek'],
            ['jad']
        ];
        const waveSpawnLocations = [
            ['C'], ['C', 'SE'], ['NE'], ['NE', 'C'], ['NE', 'C', 'SE'], ['NE', 'SW'], ['NW'], ['NW', 'C'], ['NW', 'C', 'SE'], ['NW', 'NE'], 
            ['NW', 'NE', 'C'], ['NW', 'NE', 'C', 'SE'], ['NW', 'NE', 'SW'], ['NW', 'SE'], ['SW'], ['SW', 'C'], ['SW', 'C', 'SE'], ['SW', 'NE'], 
            ['SW', 'NE', 'C'], ['SW', 'NE', 'C', 'SE'], ['SW', 'NE', 'SW'], ['SW', 'NW'], ['SW', 'NW', 'C'], ['SW', 'NW', 'C', 'SE'], 
            ['SW', 'NW', 'NE'], ['SW', 'NW', 'NE', 'C'], ['SW', 'NW', 'NE', 'C', 'SE'], ['SW', 'NW', 'NE', 'SW'], ['SW', 'NW', 'SE'], ['SW', 'SE'],
            ['SE'], ['SE', 'C'], ['SE', 'C', 'SE'], ['SE', 'NE'], ['SE', 'NE', 'C'], ['SE', 'NE', 'C', 'SE'], ['SE', 'NE', 'SW'], ['SE', 'NW'],
            ['SE', 'NW', 'C'], ['SE', 'NW', 'C', 'SE'], ['SE', 'NW', 'NE'], ['SE', 'NW', 'NE', 'C'], ['SE', 'NW', 'NE', 'C', 'SE'], ['SE', 'NW', 'NE', 'SW'], 
            ['SE', 'NW', 'SE'], ['SE', 'SW'], ['SE', 'SW', 'C'], ['SE', 'SW', 'C', 'SE'], ['SE', 'SW', 'NE'], ['SE', 'SW', 'NE', 'C'], 
            ['SE', 'SW', 'NE', 'C', 'SE'], ['SE', 'SW', 'NE', 'SW'], ['SE', 'SW', 'NW'], ['SE', 'SW', 'NW', 'C'], ['SE', 'SW', 'NW', 'C', 'SE'], 
            ['SE', 'SW', 'NW', 'NE'], ['SE', 'SW', 'NW', 'NE', 'C'], ['SE', 'SW', 'NW', 'NE', 'C', 'SE'], ['SE', 'SW', 'NW', 'NE', 'SW'], 
            ['SE', 'SW', 'NW', 'SE'], ['SE', 'SW', 'SE'], ['C', 'NE', 'NW', 'SE', 'SW'], ['NE']
        ];
    
        // Functions
        function applyScale(scale) {
            if (scaleValue) scaleValue.textContent = `${scale}%`;
            if (scaleSlider) scaleSlider.value = scale;
            if (wavesView) wavesView.style.zoom = scale / 100;
        }
    
        function showContent(viewId, clickedButton) {
            document.querySelectorAll('.content-view').forEach(view => view.classList.remove('active'));
            document.getElementById(viewId).classList.add('active');
    
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            clickedButton.classList.add('active');
            contentTitle.textContent = clickedButton.textContent;
            
            if (window.innerWidth < 768) sidebar.classList.add('-translate-x-full');
            localStorage.setItem('savedView', viewId);
    
            if (viewId === 'waves-view') {
                scaleSliderContainer.style.display = 'block';
                waveNavigation.classList.add('visible');
                const savedScale = localStorage.getItem('savedScale_waves-view') || 100;
                applyScale(parseInt(savedScale, 10));
                updateArrowVisibility();
            } else {
                scaleSliderContainer.style.display = 'none';
                waveNavigation.classList.remove('visible');
                if (wavesView) wavesView.style.zoom = 1;
            }
        }
    
        function updateArrowVisibility() {
            sidebarPrevBtn.classList.toggle('disabled', currentWave <= 1);
            sidebarNextBtn.classList.toggle('disabled', currentWave >= totalWaves);
        }
    
        function showWaveDetails(waveNum) {
            if (waveNum < 1 || waveNum > totalWaves) return;
            currentWave = waveNum;
            localStorage.setItem('savedWave', waveNum);
    
            const mapTitle = document.getElementById('map-title');
            const monstersLeft = document.getElementById('monsters-left');
            const monstersRight = document.getElementById('monsters-right');
            const jadContainer = document.getElementById('jad-info-container');
            const mapWrapper = document.getElementById('map-and-monsters-wrapper');
    
            monstersLeft.innerHTML = '';
            monstersRight.innerHTML = '';
            jadContainer.innerHTML = '';
            mapWrapper.classList.remove('hidden');
            jadContainer.classList.add('hidden');
            mapTitle.textContent = `Map & Spawns - Wave ${waveNum}`;
            
            if (waveNum === 63) {
                mapWrapper.classList.add('hidden');
                jadContainer.classList.remove('hidden');
                const jad = monsters['jad'];
                jadContainer.innerHTML = `
                    <div class="text-center">
                        <h3 class="text-2xl font-bold text-center mb-4">Wave ${waveNum}</h3>
                        <img src="${jad.img}" alt="${jad.name}" class="mx-auto mb-4" style="max-width: 200px;">
                        <p class="text-xl font-bold">${jad.name} (Level ${jad.level})</p>
                        <div class="mt-4 text-left mx-auto max-w-2xl">
                            <h4 class="font-bold text-lg">JAD FIGHT STRATEGY:</h4>
                            <p class="mb-2">This is it! Stay calm. Jad switches between two attacks:</p>
                            <ul class="list-disc list-inside">
                                <li><strong class="text-blue-400">Magic Attack:</strong> Jad stands on his hind legs. SWITCH TO <strong class="text-blue-400">PROTECT FROM MAGIC</strong>.</li>
                                <li><strong class="text-green-400">Ranged Attack:</strong> Jad stomps his front foot. SWITCH TO <strong class="text-green-400">PROTECT FROM MISSILES</strong>.</li>
                            </ul>
                            <p class="mt-2">At 50% health, four healers (Yt-HurKot) will spawn and heal Jad. You MUST attack each healer at least once to draw their aggression. Then you can go back to attacking Jad.</p>
                            <p class="mt-2 font-bold text-red-500">The most important thing is to watch Jad's attacks and switch prayers correctly. Attack, watch, switch, repeat. You've got this!</p>
                        </div>
                    </div>`;
            } else {
                const currentWaveSpawns = waveSpawns[waveNum - 1];
                currentWaveSpawns.forEach((monsterKey, index) => {
                    const monster = monsters[monsterKey];
                    const cardHtml = `<div class="text-center card p-4 rounded-lg flex flex-col items-center"><img src="${monster.img}" alt="${monster.name}" class="monster-img mx-auto mb-2"><p class="font-bold">${monster.name}</p><p>Level: ${monster.level}</p><p class="text-sm mt-2 text-gray-300 flex-grow">${monster.info}</p></div>`;
                    if (index % 2 === 0) {
                        monstersLeft.innerHTML += cardHtml;
                    } else {
                        monstersRight.innerHTML += cardHtml;
                    }
                });
            }
            
            document.querySelectorAll('.spawn-marker').forEach(marker => marker.classList.remove('highlight-spawn'));
            const spawnsForWave = waveSpawnLocations[waveNum - 1];
            if (spawnsForWave) {
                spawnsForWave.forEach(spawnId => {
                    const marker = document.getElementById(`spawn-${spawnId}`);
                    if (marker) marker.classList.add('highlight-spawn');
                });
            }
            updateArrowVisibility();
        }
    
        // Initial Load Logic
        document.addEventListener('DOMContentLoaded', () => {
            const savedWave = parseInt(localStorage.getItem('savedWave'), 10) || 1;
            const savedView = localStorage.getItem('savedView') || 'setup-view';
            
            const savedViewButton = document.querySelector(`.nav-btn[onclick*="'${savedView}'"]`);
            if (savedViewButton) {
                showContent(savedView, savedViewButton);
            } else {
                showContent('setup-view', document.querySelector('.nav-btn.active'));
            }
            showWaveDetails(savedWave);
        });
    </script>
</body>
</html>
